<!DOCTYPE html>
<HTML >
<HEAD>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title></title>
<meta http-equiv="expires" content="0">
<meta http-equiv="cache-control" content="no-cache">
<meta http-equiv="pragma" content="no-cache">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<link rel="stylesheet" href="/css/all.min.css">
<script src="/js/all.min.js"></script>
<style>
body { display: initial }
.col-md-right { overflow: auto; float: none; height: auto }
body{
background-color: white;
display: block;
}
</style>
</HEAD>
<BODY onload="init()" onpageshow="resizePopout()">
<form method="post" action="" name="parental_controls_pwd">

<div class="pop-modal">
<div class="modal-header">
<button class="close logger_bot" type="button" onclick="closePopout()">&#215;</button>
<h3><span class="multi_lang" id="lang_idp_parental_controls_password_title"></span></h3>
</div>
<div class="modal-body">
<table class="table table-info">
<tbody>
<tr>
<td colspan="2"><span class="multi_lang" id="lang_idp_parental_controls_password_pwd_title"></span></td>
</tr>
<tr>
<td><span class="multi_lang" id="lang_idp_parental_controls_password_pc_pwd_title"></span></td>
<td>
<input type="password" maxlength="32" style="width:180px" name="pc_pwd" id="pc_pwd" onblur="" class="logger_bot">
<span class="multi_lang" id="lang_idp_parental_controls_password_pwd_len_title"></span>
</td>
</tr>
<tr>
<td><span class="multi_lang" id="lang_idp_guest_pwd_info2_title"></span></td>
</tr>
<tr>
<td><span class="multi_lang" id="lang_idp_parental_controls_password_verify_pwd_title"></span></td>
<td><input type="password" maxlength="32" style="width:180px" name="pc_verify_pwd" id="pc_verify_pwd" onblur="" class="logger_bot"></td>
</tr>
<tr>
<td>&nbsp;</td>
<td><span class="error" id="errmsg1"></span></td>
</tr>
</tbody>
</table>
<table class="table table-info">
<tbody>
<tr>
<td colspan="2"><span class="multi_lang" id="lang_idp_parental_controls_password_qa_title"></span></td>
</tr>
<tr>
<td><span class="multi_lang" id="lang_idp_parental_controls_password_quest_title"></span></td>
<td><input maxlength="64" style="width:180px" name="pc_quest" id="pc_quest" onblur="" class="logger_bot"></td>
</tr>
<tr>
<td><span class="multi_lang" id="lang_idp_parental_controls_password_ans_title"></span></td>
<td><input maxlength="32" style="width:180px" name="pc_ans" id="pc_ans" onblur="" class="logger_bot"></td>
</tr>
<tr>
<td>&nbsp;</td>
<td><span class="error" id="errmsg3"></span></td>
</tr>
</tbody>
</table>
</div>
</div>

<div class="modal-footer">
<button type="button" data-dismiss="modal" class="btn multi_lang logger_bot" onclick="Okbtn_click()" id="btnOk"></button>
<button type="button" data-dismiss="modal" class="btncancel multi_lang logger_bot" onclick="closePopout()" id="btnCancel"></button>
</div>
<script type="text/javascript">
//document.title = 'xxxxx';

var L;
var modify_obj;

function init()
{
setTimeout(function(){
L = eval('window.parent.L.'+localStorage.iframe_idp_name)
$('#loader', window.parent.document).hide();

modify_obj=window.parent.MODIFIED_OBJ_DATA.pc.PcP;

$('#pc_pwd').val(modify_obj.setupPassword);
$('#pc_verify_pwd').val("");
$('#pc_quest').val(modify_obj.setupSecretQuestion);
$('#pc_ans').val(modify_obj.setupSecretAnswer);
inject_log_bot_idp();

resizePopout();
},1000);

}

function check_password(pwd1,pwd2) {
if (pwd1.length < 4 || pwd1.length > 32) {
$('#errmsg1').text(L.lang_idp_parental_controls_password_errmsg1_title);
resizePopout();
return -1;
}

if (pwd2.length < 4 || pwd2.length > 32) {
$('#errmsg1').text(L.lang_idp_parental_controls_password_errmsg1_title);
resizePopout();
return -1;
}

var re = new RegExp("[^a-zA-Z0-9]+","gi");
if (re.test(pwd1) || re.test(pwd2)) {
$('#errmsg1').text(L.lang_idp_parental_controls_password_errmsg1_title);
resizePopout();
return -1;
}

if (pwd1 != pwd2) {
$('#errmsg1').text(L.lang_idp_parental_controls_password_errmsg2_title);
resizePopout();
return -1;
}

$('#errmsg1').text("");
resizePopout();
return 0;
}

function check_quest_ans(quest,ans) {
if (quest == "" || ans == "") {
$('#errmsg3').text(L.lang_idp_parental_controls_password_errmsg3_title);
resizePopout();
return -1;
}

$('#errmsg3').text("");
resizePopout();
return 0;
}

function Okbtn_click() {
if (check_password($('#pc_pwd').val(),$('#pc_verify_pwd').val()) != 0)
return;

if (check_quest_ans($('#pc_quest').val(),$('#pc_ans').val()) != 0)
return;

modify_obj.setupPasswd=$('#pc_pwd').val();
modify_obj.setupSecretQuestion=$('#pc_quest').val();
modify_obj.setupSecretAnswer=$('#pc_ans').val();
window.parent.pc_save();

closePopout();
}

</script>

</FORM></BODY></HTML>
